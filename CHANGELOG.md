# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.25] - 30.05.2024

Created:

- [1.0.17] добавлен импорт области видимости через CSV и Excel;
- [1.0.18] добавлена возможность просмотра очередей в rabbit;
- [1.0.19] добавлена возможность вызова pgadmin4;
- [1.0.20] добавлена возможность при импорте файла Excel указывать вкладку для загрузки;
- [1.0.24] добавлена интеграция с Пирамида 2.0.

Fixed:
- [1.0.21] исправлена логика работы импорта через файл, добавлено поле "операция", исправлена функция просмотра результат для импорта;
- [1.0.23a] исправлена ошибка при назначении прав для Datalens;
- [1.0.25] исправлена сборка: изменён источник docker hub, исправлены python библиотеки под версию 3.10;
- [1.0.26] исправлена ошибка с импортом через CSV, библиотека file2db.

## [1.0.16] - 08.04.2024

Created:

- добавлены функции для работы с сущностями `datalens`: роли, безопасность, обновление прав;
- исправлена ошибка при импорте булевых значений в Excel или CSV.

## [1.0.15] - 05.04.2024

Fixed:

- исправлена ошибка отображения логов при импорте данных через CSV, Excel.

## [1.0.14] - 02.04.2024

Fixed:

- исправлена ошибка при изменении профиля пользователя.

## [1.0.13] - 22.03.2024

Created:

- добавлено получение embed-токен для datalens.

## [1.0.12] - 05.03.2024

Created:
- [1.0.11] добавлена поддержка создания отчётов формате ODS;
- [1.0.11] добавлена поддержка импорта данных формате ODS.

Fixed:

- [1.0.9] исправлена ошибка с множественными подключениями к базе данных;
- [1.0.10] исправлена ошибка с восстановлением доступа для аккаунтов с несколькими email адресами;
- [1.0.12] исправлена ошибка с функцией поделиться в Datalens.

Контейнеры
- akrasnov87/skr:1.0.8 -> akrasnov87/skr:1.0.12

## [1.0.8] - 22.02.2024

Created:

- [1.0.1] добавлена механизм импорта/экспорта УСПД;
- [1.0.2] добавлена настройка для тестового стенда заказчика;
- [1.0.3] добавлен nginx внутри контейнера;
- [1.0.3] доработан механизм websocket;
- [1.0.5] при сборке указывается версия контейнера, которая потом отображается в информации RPC;
- [1.0.5] в *.ymp добавлен volume для /app/files. 

Fixed:

- [1.0.1] исправлена ошибка с загрузкой (импорт) адресного справочника в части кода;
- [1.0.4] исправлена ошибка при восстановлении пароля у неактивного пользователя;
- [1.0.6] исправлена ошибка в настройках nginx;
- [1.0.7] исправлена ошибка в настройках nginx-location по умолчанию;
- [1.0.8] исправлена ошибка с восстановление пароля, добавлена переменная `SITE` в .env.* и docker-compose.yml.

Контейнеры
- akrasnov87/skr:1.0 -> akrasnov87/skr:1.0.8
- rabbitmq:3.13-management

## [1.0] - 07.02.2024 11:20

Created:

- Первая публичная версия

Контейнеры
- akrasnov87/skr:1.0
- rabbitmq:3.12-management

## 0.4 - 09.10.2023

Fixed:
 - [1] обновлён механизм работы с очередями, выполнена интеграция с rabbitmq;
 - [1] добавлена рассылка сообщения на email и по websocket, через RPC;
 - [2] исправлена ошибка при создании ПКО (добавлена передача f_org);
 - [3] добавлена настройка для тестовой среды (`test`);
 - [4] добавлена версия АРМ в ответе RPC;
 - [5] доработан механизм восстановления пароля администратором;
 - [6] добавлена информация о профиле у авторизованного пользователя;
 - [7] добавлена возможность передачи наименования подразделения при создании ПКО;
 - [8] добавлена интеграция;
 - [9] доработан процесс логирования данных;
 - [10] добавлен механизм таймеров для выполнения процедур в SQL;
 - [11] изменён механизм авторизации, добален `alias`;
 - [12] доработан механизм отправки уведомлений на почтовый адрес.

## 0.3 от 01.09.2023

### alpha

 - добавлен альтернативный механизм работы с файлами;
 - добавлено кэширование справочников для синхронизации;

## 0.2 от 21.06.2023

### alpha
 - `20.06.2023` добавлена возможность передать дополнительные параметры в контейнер (см. файл README.md)
 - `21.06.2023` обновлён механизм отчётов, добавлен примитивный механизм очередей
 - `19.07.2023` добавлен механизм импорта
 - `18.08.2023` исправлена ошибка с чтением файлов из файловой системы